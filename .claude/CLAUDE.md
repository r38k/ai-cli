# 実装の進め方

## 基本方針

### 1. 設計ファースト

- 新機能を実装する前に、必ず `/docs` ディレクトリに設計ドキュメントを作成する
- 設計と実装を行き来しながら進める

### 2. TDD（テスト駆動開発）

- **必ずテストを先に書く**
- テストが失敗することを確認してから実装
- コード変更時は必ずテストを実行して破壊的変更を防ぐ

### 3. コーディング規約

- **TypeScript関数ベース**で実装（クラスは使わない）
- 型安全性を重視
- 純粋関数を心がける

### 4. 実装手順

1. 設計ドキュメントを作成/更新
2. テストファイル（`*.test.ts`）を作成
3. テストを実行して失敗を確認
4. 実装ファイル（`*.ts`）を作成
5. テストが通る最小限のコードを実装
6. `deno test`で全テストが通ることを確認
7. 必要に応じてリファクタリング

### 5. 破壊的変更の防止

- 既存コードを変更する前に必ず`deno test`を実行
- 変更後も全テストが通ることを確認
- 既存のAPIは変更せず、新しいAPIを追加する方針

## チェックリスト

実装前：

- [ ] 設計ドキュメントを作成/更新したか
- [ ] テストケースを設計したか
- [ ] 既存コードへの影響を検討したか

実装中：

- [ ] テストを先に書いたか
- [ ] テストが失敗することを確認したか
- [ ] 最小限のコードで実装したか
- [ ] 型定義は適切か

実装後：

- [ ] すべてのテストが通るか（`deno test`）
- [ ] 既存のテストを壊していないか
- [ ] ドキュメントと実装が一致しているか
